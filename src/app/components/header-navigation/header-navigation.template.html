<nav class="main {{color}}" [ngClass]="{'not-at-top': !isAtTop, 'expanded': expanded}" [ngStyle]="{'height.px': height}">

  <mobile-menu-button></mobile-menu-button>

  <a class="svg-container" [attr.title]="title + ' Home'" routerLink="/">
    <img [src]="color === 'white' ? headerContent?.logos?.dark : headerContent?.logos?.light">
  </a>

  <ul>

    <li *ngFor="let menuOption of menu" [class]="menuOption.expanded ? 'expanded' : ''">

      <div [textContent]="menuOption.name" (click)="onClickMenuOption(menuOption, $event)"></div>

      <ul *ngIf="menuOption.links && menuOption.links.length > 0">
        <li *ngFor="let link of menuOption.links">
          <a
            *ngIf="link.routerLink"
            [routerLink]="link.routerLink"
            [textContent]="link.name"
            (click)="closeAllMenus()"
          ></a>
          <a
            *ngIf="!link.routerLink"
            [href]="link.url"
            [textContent]="link.name"
            target="_blank"
            (click)="closeAllMenus()"
          ></a>
        </li>
      </ul>

    </li>

  </ul>

  <ul class="right">
    <li *ngIf="dropdownSearchBox">
      <a class="no-underline" (click)="toggleSearchBox()">
        <i class="icon icon-search" (click)="closeAllMenus()"></i>
      </a>
    </li>
  </ul>

  <a [href]="forkMeUrl" *ngIf="forkMeUrl" target="_blank">
    <svg
      class="fork_me"
      version="1.2"
      baseProfile="full"
      width="250px"
      height="250px"
      style="position:fixed; top:0; right:0;"
      fill="blue"
      xmlns="http://www.w3.org/2000/svg"
      >

      <filter id="blur-shadow">
        <feGaussianBlur in="SourceGraphic" stdDeviation="1" />
      </filter>

      <rect width="200%" height="33" y="-100" style="fill:rgb(35, 192, 186); transform:rotate(45deg);" filter="url(#blur-shadow)"></rect>

      <line xmlns="http://www.w3.org/2000/svg" x1="0" x2="1000%" y1="-97" y2="-97" style="stroke:white;stroke-width:2;transform:rotate(45deg);opacity:0.6;" stroke-dasharray="3, 2"/>

      <line xmlns="http://www.w3.org/2000/svg" x1="0" x2="1000%" y1="-70" y2="-70" style="stroke:white;stroke-width:2;transform:rotate(45deg);opacity:0.6;" stroke-dasharray="3, 2"/>

      <text
        xmlns="http://www.w3.org/2000/svg"
        x="45%"
        y="-77"
        font-family="Helvetica"
        font-size="15"
        fill="white"
        transform="rotate(45)"
      >Fork me on Github</text>
    </svg>
  </a>

</nav>

<div *ngIf="dropdownSearchBox" class="search-box" [ngClass]="{'active': isSearchBoxShown}">
  <a class="close-search-box-button" (click)="hideSearchBox()">
    <i class="icon icon-cancel"></i>
  </a>
  <form
      class="search-form"
      (ngSubmit)="handleFormSubmission()">
    <search-input
        name="searchQuery"
        placeholder="Search Projects..."
        [(queryValue)]="searchQuery"
        ngDefaultControl>
    </search-input>
  </form>
</div>
